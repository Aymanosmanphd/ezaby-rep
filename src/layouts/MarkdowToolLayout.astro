---
import MediaShare from '../components/MediaShare.astro';
import BaseLayout from './BaseLayout.astro';
const { frontmatter } = Astro.props;
---

<BaseLayout pageTitles=`قسم الطلبيات | ${frontmatter.title}`>
	<div
		class='page-title arab-txt mr-4 pr-2 lg:mr-0 flex flex-col justify-center items-end border-right border-r-4 border-gray-600'
	>
		<h1
			class='text-xl md:text-2xl lg:text-3xl font-bold lg:font-semibold text-gray-900'
			dir='rtl'
		>
			{frontmatter.title}
		</h1>
		<!-- <p>نشر فى {frontmatter.pubDate.slice(0, 10)}</p> -->
		<p>بواسطة <em class="font-semibold">{frontmatter.author}</em></p>
	</div>
	<main class='gap-6 pt-16 pr-6'>
		<div class='md:w-2/3 self-center'>
			<img src={frontmatter.image.url} alt={frontmatter.image.alt} />
		</div>
		<div dir="rtl" class="arab-txt">
      {
				frontmatter.audio && (
						frontmatter.audio.map(file => 
						<p>ملف صوتى للاستماع 👇</p>
						<audio class=" my-6" controls>
							<source src={file} type='audio/mp3' />
								Your browser does not support the audio element.
						</audio>
						)
					
					
				)
			}
			<slot />
			
			{
				frontmatter.link && (
					<a class='underline text-sky-700 text-lg' href={frontmatter.link}>
						أضغط هنا
					</a>
				)
			}
		</div>
		<div class="flex flex-row-reverse gap-3">
			<span class="arab-txt">شارك على</span>
			<MediaShare media={`whatsapp://send?text=https://mrp-rep.netlify.app${frontmatter.postPath}`} />
		</div>
	</main>
</BaseLayout>
